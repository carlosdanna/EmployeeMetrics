<div class = 'container' ng-controller = 'viewDashboardController'>
	<div ng-init='initialize()'>

		<h1>Dashboard</h1>
		<h3>Welcome {{employee.firstname+' ' + employee.lastname}}</h3>
		<!--<div class = 'col-md-3 control-group'>
			<label for = 'date'>Choose month</label>
			<input class = 'form-control' type = 'date' name = 'date' ng-model='params.date'></input>
		</div>-->
		<div ng-hide='isAdmin'>
			<form class = 'form form-vertical' >
				<div ng-if='isManager' class = 'form-group'>
					<label class = 'col-md-2' for = 'users'>Choose person to see</label>
					<div class='col-md-2'>
					<select ng-model ='personSelected._id' name = 'user' ng-change='personChange(personSelected._id)' class = 'col-md-3 form-control'>
						<option ng-repeat="person in people" value='{{person._id}}'>{{person.firstname + ' ' + person.lastname}}</option>
					</select>
				</div>
				</div>

				<div class = 'form-group col-md-6'>
					<label class='col-md-4' for = 'date'>Choose month - year</label>
					<div class='col-md-4'>
						<select ng-model ='date.month' ng-change='dateChange(personSelected)' class = 'form-control' ng-options='month as month for month in select.month'></select>	
					</div>
					
					<div class='col-md-3'>
						<select ng-model ='date.year' ng-change='dateChange(personSelected)' class = 'form-control' ng-options = 'year as year for year in select.year'></select>	
					</div>
					
				</div>

			</form>
			<div class='col-md-12'>
				<h4>Manager Results</h4>
				<div class = 'col-md-4'>
				<center>
					<h4>Technology Matrix</h4>
					<canvas id="technologyManagerChart" ng-disabled='emptyManagerTechChart'></canvas>
				</center>
					<div id = 'technologyManagerLegend'></div>
				</div>
				<div class = 'col-md-4'>
					<center><h4>Training Matrix</h4></center>
					<canvas id="trainingManagerChart" width="300" height="300"></canvas>
					<div id = 'trainingManagerLegend'></div>
				</div>
				<div class = 'col-md-4'>
					<center><h4>Continuous Evaluation Matrix</h4></center>
					<canvas id="continuousManagerChart" width="300" height="300"></canvas>
					<div id = 'continuousManagerLegend'></div>
				</div>
			</div>
			<div class='col-md-12'>
				<h4>User Results</h4>
				<div class = 'col-md-4'>
					<center><h4>Technology Matrix</h4></center>
					
						<canvas  id="technologyUserChart" width="300" height="300"></canvas>
						<div id = 'technologyUserLegend'></div>
						
				</div>
				<div class = 'col-md-4'>
					<center><h4>Training Matrix</h4></center>
					<canvas id="trainingUserChart" width="300" height="300"></canvas>
					<div id = 'trainingUserLegend'></div>
				</div>
				<div class = 'col-md-4'>
					<center><h4>Continuous Evaluation Matrix</h4></center>
					<canvas id="continuousUserChart" width="300" height="300"></canvas>
					<div id = 'continuousUserLegend'></div>
				</div>
			</div>

			<div class='col-md-offset-3 col-md-6 col-md-offset-3'>
				<table class = 'table table-striped'>
					<thead>
						<th>Matrix</th>
						<th>Manager Totals</th>
						<th>User Totals</th>
					</thead>
					<tr>
						<td>Technology</td>
						<td>{{totals.manager[0]}}</td>
						<td>{{totals.user[0]}}</td>
					</tr>
					<tr>
						<td>Training</td>
						<td>{{totals.manager[1]}}</td>
						<td>{{totals.user[1]}}</td>
					</tr>
					<tr>
						<td>Continuous Evaluation</td>
						<td>{{totals.manager[2]}}</td>
						<td>{{totals.user[2]}}</td>
					</tr>
					<tr>
						<td><strong>Total</strong></td>
						<td><strong>{{totals.manager[0] + totals.manager[1] + totals.manager[2]}}</strong></td>
						<td><strong>{{totals.user[0] + totals.user[1] + totals.user[2]}}</strong></td>
					</tr>
				</table>
			</div>

			<div class = 'col-md-12' style="margin-bottom: 100px;"> </div>
			

		</div>
	</div>
</div>