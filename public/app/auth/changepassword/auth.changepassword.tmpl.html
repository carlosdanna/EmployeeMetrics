<form class='form' name='passwordForm'>

	<div class='col-md-offset-4 col-md-4 col-md-offset-4' ng-init = 'initialize()'>
		<h2>Change Password</h2>
	</div>

	<div class = 'col-md-offset-4 col-md-4 col-md-offset-4' ng-class ="{ 'has-error' : passwordForm.password.$invalid && !passwordForm.password.$pristine }">
		<div class = 'form-group form-inline'>
			<label for = 'oldpassword' >Old password: </label>
			<input class = 'form-control' type='password' name='oldpassword' ng-model = 'password.oldPassword' ng-minlength="8" required></input>
			<p ng-show='passwordForm.oldpassword.$invalid && !passwordForm.oldpassword.$pristine' class='help-block'>Please enter the old password</p>
			<p ng-show="passwordForm.oldpassword.$error.minlength" class="help-block">your old password is too short.</p>
		</div>
	</div>

		<div class = 'col-md-offset-4 col-md-4 col-md-offset-4' ng-class ="{ 'has-error' : passwordForm.newpassword.$invalid && !passwordForm.newpassword.$pristine }">
		<div class = 'form-group form-inline'>
			<label for = 'newpassword' >New Password: </label>
			<input class = 'form-control' type='password' name='newpassword' ng-model = 'password.newPassword' ng-minlength="8" required></input>
			<p ng-show='passwordForm.newpassword.$invalid && !passwordForm.newpassword.$pristine' class='help-block'>Please enter the new password</p>
			<p ng-show="passwordForm.newpassword.$error.minlength" class="help-block">your new password is too short.</p>
		</div>
	</div>

		<div class = 'col-md-offset-4 col-md-4 col-md-offset-4' ng-class ="{ 'has-error' : passwordForm.repeatpassword.$invalid && !passwordForm.repeatpassword.$pristine }">
		<div class = 'form-group form-inline' >
			<label for = 'repeatpassword' >Repeat Password: </label>
			<input class = 'form-control' type='password' name='password' ng-model = 'password.repeatPassword' ng-minlength="8" required></input>
			<p ng-show='passwordForm.repeatpassword.$invalid && !passwordForm.repeatpassword.$pristine' class='help-block'>Please enter a password</p>
			<p ng-show="passwordForm.repeatpassword.$error.minlength" class="help-block">your password is too short.</p>
			<p ng-show='noMatch' class = 'help-block'>Passwords not match</p>
		</div>
	</div>
	<div class = 'col-md-offset-4 col-md-4 col-md-offset-4'>
	<button class='btn btn-primary' ng-disabled = 'passwordForm.$invalid' ng-click='changePassword()'>Change password</button>
	<a ui-sref = 'app.dashboard' class = 'btn btn-danger'>Cancel</a>
	</div>
</form>