<!DOCTYPE html>
<html ng-app='getData'>
	<head>
		<link rel="stylesheet" href="styles/bootstrap.min.css">
		<title>Express Test</title>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<script type="text/javascript" src="scripts/jquery.min.js"></script>
		<script type="text/javascript" src="scripts/bootstrap.min.js"></script>
		<script type="text/javascript" src='scripts/module.js'></script>
		<script type="text/javascript" src='scripts/clientServices.js'></script>
		<script type="text/javascript" src='scripts/client.js'></script>

	</head>
	<body>
		<div ng-controller="getMongoController" ng-init="initialize()">
		<div class = 'container' >
		
			<div class = 'col-md-3'>
				<label for = 'name'>Your name
				<select class = 'form-control' name = 'name' id='nameSelector' ng-change='getPeopleCategories(person._id)' ng-model='person._id'>
					<option ng-repeat="person in people" value='{{person._id}}'>{{person.firstname + ' ' + person.lastname}}</option>

				</select>
			</div>
			<div class = 'col-md-6'>
					<h2 align = 'center'>Matrices Competition</h2>
			</div>
			<div class = 'col-md-3'>
				<label for = 'date'>Date
				<input type = 'date' class='form-control' name = 'date' id='datePicker' ng-model = 'peopleCategories[0].date'  />
			</div>
			<div class = 'col-md-12'>
			<table class='table table-striped'>
				<thead>
					<th>Category</th>
					<th>Column A</th>
					<th>Column B</th>
					<th>Column C</th>
					<th>Column D</th>
					<th>Column Total</th>
				</thead>
				<tr ng-repeat='personCategory in peopleCategories track by $index'>
					<td><input class = 'form-control' type ='text' class='' name='category' ng-model='personCategory.name' disabled></td>
					<td>
						<select class='form-control' name='column-a' id='column-a' ng-change='resultChanged($index)' ng-model='personCategory.Results[0]'>
							<option value = 1>1</option>
							<option value = 2>2</option>
							<option value = 3>3</option>
						</select>
					</td>
					<td>
						<select class='form-control' name='column-b' id='column-b' ng-change='resultChanged($index)' ng-model='personCategory.Results[1]'>
							<option value = 1>1</option>
							<option value = 2>2</option>
							<option value = 3>3</option>
						</select>
					</td>
					<td>
						<select class='form-control' name='column-c' id='column-c' ng-change='resultChanged($index)' ng-model='personCategory.Results[2]'>
							<option value = 1>1</option>
							<option value = 2>2</option>
							<option value = 3>3</option>
						</select>
					</td>
					<td>
						<select class='form-control' name='column-d' id='column-d' ng-change='resultChanged($index)' ng-model='personCategory.Results[3]'>
							<option value = 1>1</option>
							<option value = 2>2</option>
							<option value = 3>3</option>
						</select>
					</td>
					<td>
						<input type='number' name='total' class='form-control' id='total' ng-change='resultChanged($index)' ng-model='personCategory.total' disabled>
					</td>
				</tr>

			</table>
		</div>
			<div class = 'col-md-3'ng-show='ShowButton'>
				<button name='Add' class = 'btn btn-success' ng-click='addToMongo()'>Add New Information </button>
			</div>
			<div class = 'col-md-3' ng-hide='ShowButton'>
				<button name='update' class = 'btn btn-info' ng-click='updateToMongo()'>Update Information </button>
			</div>
		</div>

	</div>

	</body>
</html>